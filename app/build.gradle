apply plugin: 'com.android.application'

android {
    def globalConfiguration = rootProject.extensions.getByName("ext")

    compileSdkVersion globalConfiguration.getAt("androidCompileSdkVersion")
    buildToolsVersion globalConfiguration.getAt("androidBuildToolsVersion")

    defaultConfig {
        minSdkVersion globalConfiguration.getAt("androidMinSdkVersion")
        targetSdkVersion globalConfiguration.getAt("androidTargetSdkVersion")

        applicationId globalConfiguration.getAt("androidApplicationId")
        versionCode globalConfiguration.getAt("androidVersionCode")
        versionName globalConfiguration.getAt("androidVersionName")
        testInstrumentationRunner globalConfiguration.getAt("testInstrumentationRunner")
        testApplicationId globalConfiguration.getAt("testApplicationId")
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_7
        targetCompatibility JavaVersion.VERSION_1_7
    }



    packagingOptions {
        exclude 'LICENSE.txt'
        exclude 'META-INF/DEPENDENCIES'
        exclude 'META-INF/ASL2.0'
        exclude 'META-INF/NOTICE'
        exclude 'META-INF/LICENSE'
        exclude 'META-INF/rxjava.properties'
    }

    lintOptions {
        quiet true
        abortOnError false
        ignoreWarnings true
        disable 'InvalidPackage'            //Some libraries have issues with this.
        disable 'OldTargetApi'
        //Lint gives this warning but SDK 20 would be Android L Beta.
        disable 'IconDensities'             //For testing purpose. This is safe to remove.
        disable 'IconMissingDensityFolder'  //For testing purpose. This is safe to remove.
    }

    signingConfigs {
        debug {
            storeFile file('../buildsystem/debug.keystore')
            storePassword 'android'
            keyAlias 'androiddebugkey'
            keyPassword 'android'
        }
    }


    buildTypes {

        debug {
            signingConfig signingConfigs.debug
            multiDexEnabled true
            buildConfigField "String", "BASE_URL", '"http://192.168.1.125:8080/api/v1/"'
        }

        release {
            buildConfigField "String", "BASE_URL", '"http://192.168.1.125:8080/api/v1/"'
        }
    }
}

dependencies {


    def presentationDependencies = rootProject.ext.presentationDependencies
    def presentationTestDependencies = rootProject.ext.presentationTestDependencies
    def developmentDependencies = rootProject.ext.developmentDependencies

    implementation files('libs/YouTubeAndroidPlayerApi.jar')

    // Compile Utils Module
    implementation project(':utils')
    // Compile Domain
    implementation project(':domain')

    // Compile Data
    implementation project(':data')

    implementation 'com.android.support.constraint:constraint-layout:1.1.2'
    annotationProcessor presentationDependencies.daggerCompiler
    implementation presentationDependencies.dagger
    implementation presentationDependencies.butterKnife
    annotationProcessor presentationDependencies.butterKnifeCompiler
    implementation presentationDependencies.recyclerView
    implementation presentationDependencies.rxJava
    implementation presentationDependencies.rxAndroid
    compileOnly presentationDependencies.javaxAnnotation
    implementation presentationDependencies.appcompatv7
    implementation presentationDependencies.supportV4
    implementation presentationDependencies.cardview
    implementation presentationDependencies.supportDesign
    implementation presentationDependencies.preferencev7
    implementation presentationDependencies.preferencev14
    implementation presentationDependencies.dexter
    implementation presentationDependencies.calligraphy
    implementation presentationDependencies.viewpump
    implementation presentationDependencies.icepick
    annotationProcessor presentationDependencies.icepickProcessor
    implementation presentationDependencies.timber
    implementation presentationDependencies.androidIconifyFontawesome
    implementation presentationDependencies.thirtyinch
    implementation presentationDependencies.constraintLayout
    implementation presentationDependencies.customactivityoncrash
    implementation presentationDependencies.slidingtutorial
    implementation presentationDependencies.androidSaripaar
    implementation presentationDependencies.picasso
    implementation presentationDependencies.stetho
    implementation presentationDependencies.stethoOkHttp
    implementation presentationDependencies.circleimageview
    implementation presentationDependencies.MPAndroidChart
    implementation presentationDependencies.viewPagerTransforms
    implementation presentationDependencies.facebookSdk

    implementation 'com.fernandocejas:arrow:1.0.0'


    androidTestImplementation presentationTestDependencies.mockito
    androidTestImplementation presentationTestDependencies.dexmaker
    androidTestImplementation presentationTestDependencies.dexmakerMockito
    androidTestImplementation presentationTestDependencies.espresso
    androidTestImplementation presentationTestDependencies.testingSupportLib

    //Development
    //implementation developmentDependencies.leakCanary
}
